{% extends "base.html" %}

{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏{% endblock %}

{% block content %}
<main class="container">
    <h1 class="page-title">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞–º–∏</h1>
    <p class="page-subtitle">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç–∞–º–∏ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–∞–π—Ç–µ.</p>

    <div class="bot-management-grid">
        <!-- –°–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ -->
        <div class="card">
            <h2 class="card-header">–°–æ–∑–¥–∞—Ç—å –±–æ—Ç–æ–≤</h2>
            <form method="POST" action="{{ url_for('bot_management_panel') }}" class="card-body">
                {{ form.hidden_tag() }}
                <input type="hidden" name="action" value="create">
                <div class="form-group">
                    <label for="bot_count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ—Ç–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:</label>
                    <input type="number" id="bot_count" name="bot_count" class="form-control" value="5" min="1" max="100">
                </div>
                <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>

        <!-- –°–µ–∫—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="card">
            <h2 class="card-header">–ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
            <div class="card-body">
                <form method="POST" action="{{ url_for('bot_management_panel') }}" style="display: inline-block;">
                    {{ form.hidden_tag() }}
                    <input type="hidden" name="action" value="delete_all">
                    <button type="submit" class="btn btn-danger" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –í–°–ï–• –±–æ—Ç–æ–≤?');">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö –±–æ—Ç–æ–≤</button>
                </form>
                <form method="POST" action="{{ url_for('bot_management_panel') }}" style="display: inline-block;">
                    {{ form.hidden_tag() }}
                    <input type="hidden" name="action" value="trigger_activity">
                    <button type="submit" class="btn btn-success">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–æ–≤ (–¢–µ—Å—Ç)</button>
                </form>
                <form method="POST" action="{{ url_for('generate_ai_gossip_route') }}" style="display: inline-block;">
                    {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-info" onclick="return confirm('–°–æ–∑–¥–∞—Ç—å AI —Å–ø–ª–µ—Ç–Ω—é –æ—Ç –∏–º–µ–Ω–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –±–æ—Ç–∞?');">
                        ü§ñ –°–æ–∑–¥–∞—Ç—å AI —Å–ø–ª–µ—Ç–Ω—é
                    </button>
                </form>
                <form method="POST" action="{{ url_for('generate_ai_comments_route') }}" style="display: inline-block;">
                    {{ form.hidden_tag() }}
                    <input type="number" name="comment_count" value="5" min="1" max="20" style="width: 60px; margin-right: 5px;">
                    <button type="submit" class="btn btn-warning" onclick="return confirm('–°–æ–∑–¥–∞—Ç—å AI –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç –∏–º–µ–Ω–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–æ—Ç–æ–≤?');">
                        üí¨ –°–æ–∑–¥–∞—Ç—å AI –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–æ—Ç–æ–≤ -->
    <div class="card mt-4">
        <h2 class="card-header">–°–ø–∏—Å–æ–∫ –±–æ—Ç–æ–≤ ({{ bots|length }})</h2>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>–ò–º—è</th>
                        <th>–ö–æ–∏–Ω—ã</th>
                        <th>–†–µ–ø—É—Ç–∞—Ü–∏—è</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    {% for bot in bots %}
                    <tr>
                        <td>{{ bot.id }}</td>
                        <td><a href="{{ url_for('profile', username=bot.username) }}">{{ bot.username }}</a></td>
                        <td>{{ bot.spletni_coins }}</td>
                        <td>{{ bot.reputation }}</td>
                        <td>
                            <form method="POST" action="{{ url_for('bot_management_panel') }}" style="display: inline;">
                                {{ form.hidden_tag() }}
                                <input type="hidden" name="action" value="delete_one">
                                <input type="hidden" name="bot_id" value="{{ bot.id }}">
                                <button type="submit" class="btn btn-sm btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                            </form>
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5" class="text-center">–ë–æ—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</main>
{% endblock %}
